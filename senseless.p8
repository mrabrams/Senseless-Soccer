pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
function _init()
	dx,dy=0,0
	sprite=1
	fl=false
end

function _update()
	ix,iy=0,0

	if (btn(0))	then
	 ix-=1
	 sprite=3
	 fl=false
	end

	if (btn(1)) then
	 ix+=1
	 sprite=3
	 fl=true
	end
	
	if (btn(2)) then
		iy-=1
		sprite=2
		fl=false
	end
	
	-- down
	if (btn(3)) then
		iy+=1
		sprite=1
		fl=false
	end 
	 
	if ix*iy!=0 then
		ix*=.707
 		iy*=.707
	end

	dx+=ix
	dy+=iy

end

function _draw()

	// spr( n, x, y, [w,] [h,] [flip_x,] [flip_y] )
	cls(11)
	spr(4,dx,dy)
	spr(sprite,dx,dy,1,1,fl,false)
end
__gfx__
00000000000440000004400000044000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000ff00000044000000f4000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700082828200828282000082800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000770000f2668f00f2778f00008f800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000770000f2828f00f2828f00008f800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700001111000011110000011100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000f00f0000f00f00000f0f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000005005000050050000050500003333300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
